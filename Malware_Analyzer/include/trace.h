#ifndef TRACE_H
#define TRACE_H

struct trace_opts {
    int timeout_sec;
    int max_events;
    int json;     /* 1=JSON, else text */
    int pretty;  /* pretty JSON */
    int jail;    /* 1=enter jail before exec */
};

/* argv: child argv vector (path must be argv[0]); pass NULL for just path */
int trace_process(const char *path, char *const argv[], const struct trace_opts *opt);

#endif
