#ifndef SANDBOX_H
#define SANDBOX_H

struct limits {
    int  timeout_sec;   /* wall-clock timeout */
    long mem_bytes;     /* RLIMIT_AS   */
    long fsize_bytes;   /* RLIMIT_FSIZE */
    int  nofile;        /* RLIMIT_NOFILE */
};

struct run_result {
    int  exit_code;
    int  term_signal;
    int  killed_by_timeout;
    long elapsed_ms;
};

int run_in_sandbox(const char *path, char *const argv[],
                   const struct limits *lim, int no_net,
                   struct run_result *out);

#endif
